<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<script>
window.onload=function(){
	var oA = document.getElementsByTagName("a")[0];	
	var oInput = document.getElementsByTagName("input");
	var oLabel = document.getElementsByTagName("label")[0];
	var cheakAll=document.getElementById("cheakAll")

		var isCheckAll=function(){
			for(var i=1,n=0;i<oInput.length;i++){
				oInput[i].checked && n++
			}
			oInput[0].checked = n==oInput.length-1
			oLabel.innerHTML = oInput[0].checked?"全不选":"全选"
		}
		cheakAll.onclick=function(){
			for(var i=1;i<oInput.length;i++){
				oInput[i].checked=this.checked
			}
			isCheckAll()
		}
		oA.onclick=function(){
			for(var i=1;i<oInput.length;i++){
				oInput[i].checked=!oInput[i].checked

				
			}
			isCheckAll()
		}
		//根据复选个数更新全选框状态
	for (var i = 1; i < oInput.length; i++)
	{
		oInput[i].onclick = function ()
		{
			isCheckAll()
		}	
	}	
	

}
</script>
	<div>
		<input type="checkbox" id="cheakAll"> <label>全选</label> <a href="javascript:;">反选</a
		<br>
		<p><input type="checkbox" name="item"><label for="">选项一</label></p>
		<p><input type="checkbox" name="item"><label for="">选项二</label></p>
		<p><input type="checkbox" name="item"><label for="">选项三</label></p>
		<p><input type="checkbox" name="item"><label for="">选项四</label></p>
		<p><input type="checkbox" name="item"><label for="">选项五</label></p>
		<p><input type="checkbox" name="item"><label for="">选项六</label></p>
		<center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
	</div>
</body>
</html>